/*! ionic-simple-datepicker.js v0.1.3 28-01-2016 */

!function(a,b,c,d){"use strict";var e,f,g=function(){};e=b.module("simple-datepicker",[]),e.directive("simpleDatepicker",[function(){var a="YYYY-MM-DD",b="MMMM YY",d="dd",e=7,f="<",g=">",h="X";return{restrict:"E",template:'<div class="simple-datepicker"><div class="simple-datepicker__month-picker"><div class="button-bar"><button class="button" ng-click="goToPreviousMonth()" ng-disabled="! hasPrevMonth()" ng-bind="prevButtonLabel"></button><button class="button" ng-click="goToNextMonth()" ng-disabled="! hasNextMonth()" ng-bind="nextButtonLabel"></button></div></div><div class="simple-datepicker__month"><h1 ng-bind="getCurrentMonth()"></h1></div><div class="simple-datepicker__calendar"><div class="simple-datepicker__calendar__date-header" ng-bind="weekday" ng-repeat="weekday in weekdays track by $index"></div><div class="simple-datepicker__calendar__date" ng-repeat="day in days track by $index" ng-class="{ \'simple-datepicker__calendar__date--not-current-month\': ! day.isInCurrentMonth, \'simple-datepicker__calendar__date--not-in-timeframe\': ! day.isInTimeframe, \'simple-datepicker__calendar__date--selected\': day.date == current, \'simple-datepicker__calendar__date--not-active\': ! day.active }" ng-bind="day.label" ng-click="setSelectedDay(day)"></div></div><div class="simple-datepicker__footer"><button class="button button-full simple-datepicker__footer__close" ng-bind="closeButtonLabel" ng-click="close()"></button></div></div>',scope:{initial:"=?",from:"=?",to:"=?",format:"=?",weekdayFormat:"=?",labels:"=?",activeDays:"=?",onSelected:"&",onClose:"&"},link:function(i){function j(a){var b=a||d;for(i.weekdays=[],k=0;e>k;k++)i.weekdays.push(c().weekday(k).format(b))}var k;i.days=[],i.weekdays=[],i.prevButtonLabel=f,i.nextButtonLabel=g,i.closeButtonLabel=h,i.setSelectedDay=function(a){a.active&&(i.current=a.date,i.onSelected({current:c(i.current).format()}))},i.goToPreviousMonth=function(){i.focus=c(i.focus).subtract(1,"month").format()},i.goToNextMonth=function(){i.focus=c(i.focus).add(1,"month").format()},i.hasPrevMonth=function(){return i.from?c(i.focus).startOf("month").isAfter(i.from):!0},i.hasNextMonth=function(){return i.to?c(i.focus).endOf("month").isBefore(i.to):!0},i.getCurrentMonth=function(){return c(i.focus).format(b)},i.close=function(){i.onClose({current:c(i.current).format()})},i.$watch("labels",function(a){a&&(i.prevButtonLabel=a.prevButton||f,i.nextButtonLabel=a.nextButton||g,i.closeButtonLabel=a.closeButton||h)}),i.$watch("weekdayFormat",function(a){j(a)}),i.$watch("format",function(b){b||(i.format=a)}),i.$watch("initial",function(b){!b||b&&!c(b).isValid()?i.current=c().format(a):i.current=c(b,i.format).format(a),i.focus=i.current}),i.$watch("activeDays",function(a){a?i.activeDays=a:i.activeDays=null}),i.$watch("focus",function(b){var d,e,f,g,h,j,l,m;for(g=[],h=c(b).startOf("month").weekday(0),m=c(b).format("MM"),k=0;c(h).isBefore(c(b).endOf("month"));)h=c(b).startOf("month").weekday(k),j=h.format(a),l=j.split("-"),e=i.from?h.isAfter(i.from)||h.isSame(i.from):!0,f=i.to?h.isBefore(i.to)||h.isSame(i.to):!0,d={date:j,label:l[2],isInCurrentMonth:l[1]===m,active:(!i.activeDays||i.activeDays.indexOf(j)>-1)&&e&&f},d.isInTimeframe=e&&f,g.push(d),k++;i.days=g})}}}]),f=b.module("ionic-simple-datepicker",["ionic","simple-datepicker"]),f.factory("simpleDatepickerPopover",["$rootScope","$q","$timeout","$ionicPopover",function(a,d,e,f){function h(){return b.isDefined(j)&&j.isShown()}var i,j,k="slide-in-up";return i={show:function(h,i){var l,m,n,o,p;return m=g,n=d.defer(),o=i||{},p={animation:k,focusFirstInput:!1,backdropClickToClose:!0,hardwareBackButtonClose:!0},b.extend(p,o),p.scope=i&&i.scope&&i.scope.$new()||a.$new(!0),j=f.fromTemplate('<ion-popover-view class="simple-datepicker-popover"><ion-content scroll="false"><simple-datepicker from="from" to="to" initial="initial" active-days="activeDays" on-selected="_onSelected(current)" on-close="_onClose(current)" labels="labels" weekday-format="weekdayFormat"></simple-datepicker></ion-content></ion-popover-view>',p),j.scope.$on("$destroy",function(){j.remove()}),j.scope.$on("popover.hidden",function(){n.resolve({current:l}),e(function(){j.remove()})}),i&&(i.initial&&c(i.initial).isValid()&&(j.scope.initial=i.initial,l=c(i.initial).format()),i.format&&b.isString(i.format)&&(j.scope.format=i.format),i.weekdayFormat&&b.isString(i.weekdayFormat)&&(j.scope.weekdayFormat=i.weekdayFormat),i.from&&c(i.from).isValid()&&(j.scope.from=i.from),i.to&&c(i.to).isValid()&&(j.scope.to=i.to),i.onSelected&&b.isFunction(i.onSelected)&&(m=i.onSelected),i.activeDays&&b.isArray(i.activeDays)&&i.activeDays.length>0&&(j.scope.activeDays=i.activeDays),i.labels&&b.isObject(i.labels)&&(j.scope.labels=i.labels)),j.scope._onSelected=function(a){m({current:a}),l=a},j.scope._onClose=function(a){l=a,j.hide()},j.show(h),n.promise},hide:function(){return h()?(j.hide(),!0):!1},isShown:function(){return h()}}}])}(window,window.angular,window.moment);
//# sourceMappingURL=ionic-simple-datepicker.min.map